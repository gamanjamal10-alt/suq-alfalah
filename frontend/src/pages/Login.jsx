import React,{useState} from 'react';export default function Login(){const [email,setEmail]=useState('');const [password,setPassword]=useState('');const [error,setError]=useState('');const API_URL=import.meta.env.VITE_API_URL||'http://localhost:5000/api';const handle=async(e)=>{e.preventDefault();try{const res=await fetch(`${API_URL}/users/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await res.json();if(res.ok){localStorage.setItem('token',data.token);window.location.href='/dashboard'}else setError(data.message||'خطأ');}catch{setError('تعذر الاتصال')};};return(<div className='flex items-center justify-center h-screen bg-gray-100'><form onSubmit={handle} className='bg-white p-8 shadow rounded w-96'><h2 className='text-2xl font-bold mb-6 text-center'>تسجيل الدخول</h2><input type='email' placeholder='البريد الإلكتروني' value={email} onChange={e=>setEmail(e.target.value)} className='w-full mb-4 p-2 border rounded' required/><input type='password' placeholder='كلمة المرور' value={password} onChange={e=>setPassword(e.target.value)} className='w-full mb-6 p-2 border rounded' required/><button className='bg-green-600 text-white w-full py-2 rounded'>دخول</button>{error&&<p className='mt-4 text-red-600'>{error}</p>}</form></div>)};
