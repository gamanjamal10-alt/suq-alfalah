import React,{useState} from 'react';export default function Register(){const [name,setName]=useState('');const [email,setEmail]=useState('');const [password,setPassword]=useState('');const [role,setRole]=useState('farmer');const API_URL=import.meta.env.VITE_API_URL||'http://localhost:5000/api';const handle=async(e)=>{e.preventDefault();try{const res=await fetch(`${API_URL}/users/register`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,email,password,role})});const data=await res.json();if(res.ok){localStorage.setItem('token',data.token);window.location.href='/dashboard'} }catch{} };return(<div className='flex items-center justify-center h-screen bg-gray-100'><form onSubmit={handle} className='bg-white p-8 shadow rounded w-96'><h2 className='text-2xl font-bold mb-6 text-center'>تسجيل حساب جديد</h2><input type='text' placeholder='الاسم' value={name} onChange={e=>setName(e.target.value)} className='w-full mb-4 p-2 border rounded' required/><input type='email' placeholder='البريد الإلكتروني' value={email} onChange={e=>setEmail(e.target.value)} className='w-full mb-4 p-2 border rounded' required/><input type='password' placeholder='كلمة المرور' value={password} onChange={e=>setPassword(e.target.value)} className='w-full mb-4 p-2 border rounded' required/><select value={role} onChange={e=>setRole(e.target.value)} className='w-full mb-6 p-2 border rounded'><option value='farmer'>فلاح</option><option value='wholesaler'>تاجر جملة</option><option value='retailer'>تاجر تجزئة</option><option value='transporter'>ناقل</option></select><button className='bg-green-600 text-white w-full py-2 rounded'>تسجيل</button></form></div>)};
